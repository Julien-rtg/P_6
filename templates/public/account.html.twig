{% extends 'base.html.twig' %}

{% block content %}

    <section class="section">

        <h2 class="title has-text-centered">Mon compte</h2>

        {{ form_start(form) }}

            <div class="columns is-multiline is-centered">
            
                <div class="column is-12 has-text-centered">
                    <img class="photoAccount" src="assets/img/{{avatar}}">
                </div>
                <div class="column is-4">
                    <label class="label ml-1">Nom :</label>
                    {{ form_widget(form.nom, {'attr' : {'class': 'input', 'placeholder' : 'Nom'}} ) }}
                </div>
                <div class="column is-4">
                    <label class="label ml-1">Prénom :</label>
                    {{ form_widget(form.prenom, {'attr' : {'class': 'input', 'placeholder' : 'Prénom'}} ) }}
                </div>
                <div class="column is-4">
                    <label class="label ml-1">Login :</label>
                    {{ form_widget(form.login, {'attr' : {'class': 'input', 'placeholder' : 'Login', 'readonly' : 'true'}} ) }}
                    {% if form.login.vars['errors']|length > 0 %}
                        {% for error in form.login.vars['errors'] %}
                            <span class="tag is-danger">{{error.message}}</span>
                        {% endfor %}
                    {% endif %}

                </div>
                <div class="column is-6">
                    <label class="label ml-1">Email :</label>
                    {{ form_widget(form.email, {'attr' : {'class': 'input', 'placeholder' : 'E-mail'}} ) }}
                    {% if form.email.vars['errors']|length > 0 %}
                        {% for error in form.email.vars['errors'] %}
                            <span class="tag is-danger">{{error.message}}</span>
                        {% endfor %}
                    {% endif %}
                </div>
                <div class="column is-6">
                    <label class="label ml-1">Photo :</label>
                    {{ form_widget(form.file, {'attr' : {'class': 'input', 'placeholder' : 'E-mail'}} ) }}
                    {% if form.file.vars['errors']|length > 0 %}
                        {% for error in form.file.vars['errors'] %}
                            <span class="tag is-danger">{{error.message}}</span>
                        {% endfor %}
                    {% endif %}
                </div>
                <div class="column is-12">
                    <a class="button is-small" href="{{ path('app_forgot_password_request') }}">Mot de passe oublié ?</a>
                </div>
                <div class="column is-12">
                    {{ form_row(form.save, { 'label': 'Enregistrer', 'attr' : {'class' : 'button is-success'} }) }}
                </div>
                {# {{ form_widget(form.photo, {'attr' : {'class': 'hidden', 'placeholder' : 'E-mail'}} ) }} #}
            </div>
        {{ form_end(form) }}
    
    </section>

{% endblock %}
